@authToken = {{login.response.body.$.access_token}}
@authTokenNormal = {{loginNormal.response.body.$.access_token}}
@rootPassword = {{$processEnv MFE_ROOT_PASSWORD}}
@baseUrl = http://localhost:8083

### LOGIN
# @name login
POST {{baseUrl}}/api/oauth2/token
Content-Type: application/json

{
    "client_id": "root@local",
    "client_secret": "{{rootPassword}}"
}

### LOGIN normal user
# @name loginNormal
POST http://localhost:8080/api/oauth2/token
Content-Type: application/json

{
    "client_id": "test@local",
    "client_secret": "test123"
}

### USERINFO
# @name userinfo
GET {{baseUrl}}/api/oauth2/userinfo
Authorization: Bearer {{authToken}}


### CREATE TOPOLOGY
POST http://localhost:8080/api/topologies
Authorization: Bearer {{authToken}}
Content-Type: application/json

{
    "tenant": "assets@Remy.Fuzz",
    "lv": {}
}

### GET TOPOLOGY
GET {{baseUrl}}/api/topologies/urn:assets@Remy.Fuzz:topology:default@assets.Remy.Fuzz
Authorization: Bearer {{authToken}}

### GET FULL TOPOLOGY
GET {{baseUrl}}/api/topologies/urn:assets@Remy.Fuzz:topology:default@assets.Remy.Fuzz/full
Authorization: Bearer {{authToken}}
